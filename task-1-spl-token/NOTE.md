---
title: ç¬¬äºŒèŠ‚-Solanaçš„ä»£å¸å’ŒNFT
tags: [Solana]
---

## è¯¾ç¨‹èµ„æ–™

æœ¬èŠ‚ä¸»è¦è®²è§£ã€ŠTrading Botçš„å®ç°åŸç†è§£æ&Solanaçš„ä»£å¸ä¸NFTã€‹ï¼Œç›¸å…³å­¦ä¹ èµ„æ–™å¦‚ä¸‹ï¼š

- **ä¸»è¦è¯¾ç¨‹**ï¼š[Trading Botçš„å®ç°åŸç†è§£æ&Solanaçš„ä»£å¸ä¸NFT](https://openbuild.xyz/learn/challenges/2086624241/1767796891)
- **Trading Bot èµ„æ–™**ï¼š[Sniper Bot è¯¾ç¨‹](https://academy.soldevcamp.com/course/sniper-bot/sniper-1/)ï¼ˆä¸»è¦ç”¨äºäº†è§£ï¼‰
- **Solanaçš„ä»£å¸ä¸NFT**ï¼š[ä»£å¸ä¸NFTè¯¾ç¨‹](https://openbuild.xyz/learn/challenges/2086624241/1766375394)ï¼ˆä¸‹é¢çš„èµ„æ–™ä¸»è¦åŸºäºè¿™ä¸€éƒ¨åˆ†ï¼‰
- **è¯¾ç¨‹æºç **ï¼š[hello_solana](https://github.com/lbc-team/hello_solana)

<!--more-->

## Solana è´¦æˆ·æ¨¡å‹

Solana çš„è´¦æˆ·æ˜¯ä¸€ä¸ªå­˜å‚¨å•å…ƒï¼Œç±»ä¼¼äº Linux çš„æ–‡ä»¶ç³»ç»Ÿã€‚

**è´¦æˆ·åœ°å€è¡¨ç¤ºæ–¹å¼ï¼š** Ed25519 å…¬é’¥çš„ Base58 ç¼–ç æ ¼å¼å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œä¾‹å¦‚ï¼š`14grJpemFaf88c8tiVb77W7TYg2W3ir6pfkKz3YjhhZ5`

**è´¦æˆ·ç‰¹æ€§ï¼š**
- æœ€å¤§å­˜å‚¨ 10 MB æ•°æ®
- ç©ºé—´è¶Šå¤§ï¼Œå­˜å‚¨è´¹ç”¨è¶Šé«˜
- åªæœ‰ Owner å¯ä»¥ä¿®æ”¹è´¦æˆ·æ•°æ®æˆ–å‡å°‘ä½™é¢

![è´¦æˆ·æ¨¡å‹]({{ site.baseurl }}/assets/images/sol2/img.png)

### è´¦æˆ·æ¨¡å‹ â†’ ç¼–ç¨‹æ¨¡å‹

Solana çš„è´¦æˆ·æ¨¡å‹è®¾è®¡å¸¦æ¥äº†ç‹¬ç‰¹çš„ç¼–ç¨‹æ¨¡å‹ï¼š

- **ç¨‹åºå’Œæ•°æ®æ˜¯å„è‡ªç‹¬ç«‹çš„è´¦æˆ·**ï¼ˆé€šè¿‡ `executable` å­—æ®µåŒºåˆ†ï¼‰ï¼Œå®ç°äº†ä»£ç å’Œæ•°æ®çš„åˆ†ç¦»
- **ç¨‹åºæ˜¯æ•°æ®è´¦æˆ·çš„ Owner**ï¼Œè´Ÿè´£ç®¡ç†æ•°æ®è´¦æˆ·
- **ç¨‹åºæ˜¯æ— çŠ¶æ€çš„**ï¼Œä¸ºå¤§è§„æ¨¡å¹¶å‘æ‰§è¡Œæä¾›äº†æ¡ä»¶

![ç¼–ç¨‹æ¨¡å‹]({{ site.baseurl }}/assets/images/sol2/img_1.png)

### PDAï¼ˆProgram Derived Addressesï¼‰è´¦å·

PDA æ˜¯ç”±ç¨‹åºæ´¾ç”Ÿçš„ç‰¹æ®Šåœ°å€ï¼Œå¸¸ç”¨äºå­˜å‚¨ç¨‹åºçŠ¶æ€æˆ–ä½œä¸ºç¨‹åºæ§åˆ¶çš„ç­¾åè€…ï¼š

- **æ²¡æœ‰ç§é’¥**ï¼šPDA åœ°å€åœ¨ ed25519 æ›²çº¿å¤–ï¼Œæ— æ³•ç”¨ä¼ ç»Ÿæ–¹å¼ç­¾å
- **ç¡®å®šæ€§æ´¾ç”Ÿ**ï¼šæ ¹æ®ç¨‹åº ID + ç§å­ï¼ˆseedsï¼‰+ bump å€¼è®¡ç®—å¾—å‡º
- **ç¨‹åºå¯ç­¾å**ï¼šæ´¾ç”Ÿè¯¥ PDA çš„ç¨‹åºå¯ä»¥é€šè¿‡ CPI ä»£è¡¨å®ƒç­¾å

![PDA è´¦æˆ·]({{ site.baseurl }}/assets/images/sol2/img_2.png)

## Token on Solana

### ä»€ä¹ˆæ˜¯ä»£å¸ï¼Ÿ

ä»£å¸æ˜¯æ•°å­—èµ„äº§ï¼Œä»£è¡¨åŒºå—é“¾ç½‘ç»œä¸Šçš„æ‰€æœ‰æƒã€è®¿é—®æƒé™æˆ–ä»·å€¼ã€‚å¯ä»¥å°†å®ƒä»¬è§†ä¸ºå®Œå…¨ä»¥æ•°å­—å½¢å¼å­˜åœ¨çš„å¯ç¼–ç¨‹è¯ä¹¦ï¼šå®ƒä»¬å¯ä»¥ä»£è¡¨ä»è´§å¸å’Œæ‰€æœ‰æƒè‚¡ä»½åˆ°æŠ•ç¥¨æƒå’Œè®¿é—®é€šè¡Œè¯çš„ä»»ä½•äº‹ç‰©ã€‚

ä»æœ€åŸºæœ¬çš„å±‚é¢æ¥çœ‹ï¼Œä»£å¸æ˜¯åŒºå—é“¾è´¦æœ¬ä¸­çš„ä¸€æ¡è®°å½•ï¼Œè¡¨ç¤º"æ­¤åœ°å€æ‹¥æœ‰ X æ•°é‡çš„æ­¤èµ„äº§"ã€‚ä¸éœ€è¦å®ç‰©è¯ä¹¦æˆ–é›†ä¸­å¼æ•°æ®åº“æ¥è·Ÿè¸ªæ‰€æœ‰æƒçš„ä¼ ç»Ÿèµ„äº§ä¸åŒï¼Œä»£å¸åˆ©ç”¨åŒºå—é“¾æŠ€æœ¯åˆ›å»ºäº†é˜²ç¯¡æ”¹ã€é€æ˜çš„æ‰€æœ‰æƒè®°å½•ã€‚

### ä¸ºä»€ä¹ˆä»£å¸å¾ˆé‡è¦ï¼Ÿ

ä»£å¸å®ç°äº†**å¯ç¼–ç¨‹æ‰€æœ‰æƒ**ï¼šä»»ä½•äººéƒ½å¯ä»¥åˆ›å»ºå…·æœ‰è‡ªå®šä¹‰è§„åˆ™çš„æ•°å­—èµ„äº§ï¼Œè¿™äº›è§„åˆ™è§„å®šäº†ä»£å¸å¦‚ä½•è½¬ç§»ã€æˆäºˆå“ªäº›æƒåˆ©æˆ–å¦‚ä½•ä¸å…¶ä»–ç³»ç»Ÿäº¤äº’ã€‚

è¿™ä¸ºè‡ªåŠ¨åˆ†çº¢ã€æ¡ä»¶è½¬ç§»æˆ–åŸºäºé¢„å®šä¹‰æ¡ä»¶è‡ªåŠ¨æ‰§è¡Œçš„å¤æ‚é‡‘èå·¥å…·ç­‰å¯èƒ½æ€§æ‰“å¼€äº†å¤§é—¨ã€‚

å…³é”®çš„åˆ›æ–°åœ¨äºï¼Œä»£å¸å¯ä»¥åœ¨å…¨çƒèŒƒå›´å†…å³æ—¶è½¬ç§»ï¼Œæ— éœ€ä¸­ä»‹ï¼Œå…·æœ‰é€æ˜æ€§ï¼ˆä»»ä½•äººéƒ½å¯ä»¥éªŒè¯æ‰€æœ‰æƒï¼‰ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡å¤æ‚çš„é€»è¾‘è¿›è¡Œç¼–ç¨‹ï¼ŒåŒæ—¶ä¿æŒåº•å±‚åŒºå—é“¾çš„å®‰å…¨æ€§ä¿éšœã€‚

### ä¸åŒç±»å‹çš„ä»£å¸

ä»£å¸å¯ä»¥æ ¹æ®ä¸åŒçš„ç±»åˆ«è¿›è¡Œåˆ†ç±»ï¼Œä¾‹å¦‚æ ¹æ®å®ƒä»¬çš„ç”¨é€”æˆ–å†…åœ¨ç‰¹æ€§è¿›è¡Œåˆ†ç±»ã€‚

#### åŸºäºå®ç”¨æ€§åˆ†ç±»

æ ¹æ®è¿™äº›ä»£å¸çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š

- **å®ç”¨å‹ä»£å¸**ï¼šæä¾›å¯¹äº§å“æˆ–æœåŠ¡çš„è®¿é—®ã€‚ä¾‹å¦‚ï¼ŒæŒæœ‰æŸäº›ä»£å¸å¯èƒ½ä¼šè®©æ‚¨è·å¾—å¹³å°è®¿é—®æƒé™ã€æŠ˜æ‰£è´¹ç”¨æˆ–ç‰¹æ®ŠåŠŸèƒ½ã€‚
- **æ²»ç†å‹ä»£å¸**ï¼šèµ‹äºˆæŒæœ‰è€…åœ¨å»ä¸­å¿ƒåŒ–ç»„ç»‡ä¸­çš„æŠ•ç¥¨æƒã€‚ä»£å¸æŒæœ‰è€…å¯ä»¥å¯¹åè®®æ›´æ”¹ã€èµ„é‡‘æ”¯å‡ºæˆ–å…¶ä»–å†³ç­–è¿›è¡ŒæŠ•ç¥¨ã€‚
- **è¯åˆ¸å‹ä»£å¸**ï¼šä»¥æ•°å­—å½¢å¼ä»£è¡¨å¯¹ç°å®ä¸–ç•Œèµ„äº§ï¼ˆå¦‚å…¬å¸è‚¡ä»½ã€æˆ¿åœ°äº§æˆ–å•†å“ï¼‰çš„æ‰€æœ‰æƒã€‚
- **ç¨³å®šå¸**ï¼šæ—¨åœ¨ä¿æŒç¨³å®šä»·å€¼çš„ä»£å¸ï¼Œé€šå¸¸ä¸æŸç§è´§å¸æŒ‚é’©ï¼Œä¾‹å¦‚ç¾å…ƒï¼ˆUSDCã€USDTï¼‰ã€‚
- **Meme/ç¤¾åŒºä»£å¸**ï¼šä¸»è¦ç”¨äºæŠ•æœºã€ç¤¾åŒºå»ºè®¾æˆ–å¨±ä¹ä»·å€¼ã€‚

#### æ ¹æ®ç‰¹æ€§åˆ†ç±»

æ ¹æ®"æŠ€æœ¯"ç‰¹æ€§ï¼Œä»£å¸åˆ†ä¸ºä¸¤ç±»ï¼š**åŒè´¨åŒ–ä»£å¸**å’Œ**éåŒè´¨åŒ–ä»£å¸**ã€‚

- **åŒè´¨åŒ–ä»£å¸ï¼ˆFTï¼‰**ï¼šè¡¨ç¤ºå¯äº’æ¢ï¼›ç”±å¤šä¸ªç›¸åŒçš„å•ä½ç»„æˆï¼Œå¯ä»¥æ›¿ä»£åŒä¸€ä»£å¸çš„ä»»ä½•å…¶ä»–å•ä½ï¼Œå¹¶å¯ä»¥åˆ†ä¸ºå°æ•°å•ä½ï¼ˆä¾‹å¦‚æ‹¥æœ‰ 0.5 ä¸ªä»£å¸ï¼‰ã€‚
- **éåŒè´¨åŒ–ä»£å¸ï¼ˆNFTï¼‰**ï¼šè¡¨ç¤ºç‹¬ç‰¹ä¸”ä¸å¯äº’æ¢ï¼›æ¯ä¸ªä»£å¸éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ã€ä¸å¯åˆ†å‰²çš„ï¼Œå¹¶å…·æœ‰ä½¿å…¶ä¸å…¶ä»–ä»£å¸ä¸åŒçš„ç‹¬ç‰¹å±æ€§ã€‚

**æŠ€æœ¯å®ç°è§’åº¦ï¼š**

åŒè´¨åŒ–ä»£å¸å’ŒéåŒè´¨åŒ–ä»£å¸ä» Token Program å®ç°è§’åº¦çœ‹æ˜¯ä¸€æ ·çš„ï¼Œå®ƒä»¬æ˜¯ä»æ•°é‡ä¸Šæ¥ç¡®å®šå…¶å…·å¤‡çš„ç‰¹æ€§ï¼š

- **NFT çš„ç‰¹å¾**ï¼š
  - ä¾›åº”é‡ä¸º 1ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç‹¬ä¸€æ— äºŒçš„
  - å°æ•°ä½ä¸º 0ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä¸å¯åˆ†å‰²çš„
  - ç¦ç”¨ mint authorityï¼Œé˜²æ­¢é“¸é€ ç›¸åŒç‰¹æ€§çš„ä»£å¸

Token Program æ— æ³•å¼ºåˆ¶æ‰§è¡Œè¿™äº›ç‰¹æ€§ã€‚å› æ­¤ï¼Œåƒ MPL-token-metadata è¿™æ ·çš„ç¨‹åºä¸ä»…æä¾›äº†å…ƒæ•°æ®çš„å®ç°ï¼Œè¿˜æä¾›äº†å¼ºåˆ¶æ‰§è¡Œè¿™äº›çº¦æŸçš„å®ç°ï¼Œä»è€Œå¯ä»¥è½»æ¾åˆ›å»º NFTã€‚

### ä¸ä»¥å¤ªåŠçš„åŒºåˆ«

**ä»¥å¤ªåŠçš„æ–¹å¼ï¼š**

åœ¨ä»¥å¤ªåŠä¸­ï¼Œæ¯ç§ä»£å¸éƒ½éœ€è¦éƒ¨ç½²ä¸€ä¸ªå®Œæ•´çš„æ™ºèƒ½åˆçº¦ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰çš„ä»£å¸é€»è¾‘ã€çŠ¶æ€ç®¡ç†å’Œè½¬ç§»è§„åˆ™ã€‚å°½ç®¡å¤§å¤šæ•°ä»£å¸éµå¾ª ERC-20 æ ‡å‡†ï¼Œä½†æ¯ç§ä»£å¸éƒ½æ˜¯ä¸€ä¸ªå¸¦æœ‰è‡ªå®šä¹‰ä»£ç çš„ç‹¬ç«‹ç¨‹åºã€‚

ä»¥å¤ªåŠä¸­ï¼Œåˆçº¦åœ°å€æˆä¸ºä»£å¸çš„æ ‡è¯†ç¬¦ï¼Œæ‰€æœ‰ä½™é¢éƒ½å­˜å‚¨åœ¨è¯¥åˆçº¦çš„çŠ¶æ€ä¸­ï¼Œè¯¥çŠ¶æ€å†…éƒ¨æœ‰ä¸€ä¸ªä½™é¢æ˜ å°„ã€‚

**Solana çš„æ–¹å¼ï¼š**

åœ¨ Solana ä¸Šï¼Œç”±äºç¨‹åºï¼ˆé€»è¾‘ï¼‰ä¸æ•°æ®åˆ†ç¦»ï¼Œæ‰€æœ‰ä¸ä»£å¸ç›¸å…³çš„é€»è¾‘éƒ½ç”± **SPL Token Program** å’Œ **Token2022 Program** å¤„ç†ï¼šSolana çš„åŸç”Ÿä»£å¸æ¡†æ¶ï¼Œå®šä¹‰äº†æ‰€æœ‰ä»£å¸çš„åˆ›å»ºã€ç®¡ç†å’Œè½¬ç§»æ–¹å¼ã€‚

è¿™æ˜¯ä¸€ä¸ªå•ä¸€çš„ç»Ÿä¸€ç¨‹åºï¼Œå¤„ç†ç½‘ç»œä¸­çš„æ‰€æœ‰ä»£å¸æ“ä½œï¼Œç¡®ä¿ä¸€è‡´æ€§å’Œäº’æ“ä½œæ€§ã€‚

ä½¿ç”¨ **Mint è´¦å·æ¥ç¡®å®š Token çš„å”¯ä¸€æ€§**ï¼Œ"mint" è´¦æˆ·åŒ…å«ä»£å¸çš„é…ç½®ï¼šæ€»é‡ supplyã€decimalã€mintAuthority å’Œ freezeAuthorityã€‚å®ƒç›¸å½“äºä»£å¸åœ¨ Solana ä¸Šçš„"å‡ºç”Ÿè¯æ˜"ã€‚

## Token ç›¸å…³çš„è´¦æˆ·

Token ä¸»è¦æ¶‰åŠ 3 ä¸ªè´¦æˆ·ï¼š**Token Program**ã€**Mint Account**ã€**ATA Accountï¼ˆToken Accountï¼‰**

### Token Program

**SPL Token ç¨‹åº**æˆ– **Token 2022 ç¨‹åº**ï¼ŒåŒ…å«æ‰€æœ‰çš„ä»£å¸é€»è¾‘ã€çŠ¶æ€ç®¡ç†å’Œè½¬ç§»è§„åˆ™ã€‚

**ä¸»è¦åŠŸèƒ½ï¼š**

- **åˆå§‹åŒ–è´¦æˆ·**ï¼šæ­£ç¡®çš„æ‰€æœ‰è€…ï¼ˆToken Programï¼‰ã€ç©ºé—´å’Œ lamports
- **Mint To**ï¼šå¢åŠ ä»£å¸çš„æ€»ä¾›åº”é‡ï¼Œåˆ›å»ºæ–°ä»£å¸å¹¶å°†å…¶å­˜å…¥æŒ‡å®šè´¦æˆ·ã€‚åªæœ‰ mint æƒé™æŒæœ‰è€…å¯ä»¥æ‰§è¡Œæ­¤æ“ä½œã€‚
- **Burn**ï¼šå‡å°‘ä»£å¸çš„æ€»ä¾›åº”é‡ï¼Œé€šè¿‡ä»æµé€šä¸­ç§»é™¤ä»£å¸æ¥æ°¸ä¹…é”€æ¯ä»£å¸ã€‚è¿™ä¼šå‡å°‘ä»£å¸çš„æ€»ä¾›åº”é‡ã€‚
- **è½¬è´¦**ï¼šå°†ä»£å¸ä»ä¸€ä¸ªè´¦æˆ·è½¬ç§»åˆ°å¦ä¸€ä¸ªè´¦æˆ·ã€‚è¿™æ˜¯ç”¨æˆ·ä¹‹é—´å‘é€ä»£å¸çš„åŸºæœ¬æ“ä½œã€‚
- **æˆæƒ**ï¼šæˆäºˆä»£ç†æƒé™ï¼Œå…è®¸å…¶ä»£è¡¨è´¦æˆ·æ‰€æœ‰è€…è½¬ç§»ç‰¹å®šæ•°é‡çš„ä»£å¸ã€‚è¿™ä½¿å¾—ç¨‹åºåŒ–çš„ä»£å¸è½¬ç§»æˆä¸ºå¯èƒ½ï¼Œè€Œæ— éœ€æˆäºˆå®Œæ•´çš„è´¦æˆ·æ§åˆ¶æƒã€‚
- **Revoke**ï¼šç§»é™¤å½“å‰ä»£ç†å¯¹è´¦æˆ·çš„æƒé™ï¼Œå°†è´¦æˆ·çš„å®Œå…¨æ§åˆ¶æƒå½’è¿˜ç»™è´¦æˆ·æ‰€æœ‰è€…ã€‚
- **Close Account**ï¼šå…³é—­ä¸€ä¸ªä»£å¸è´¦æˆ·å¹¶å°†å…¶å‰©ä½™çš„ SOL ç§Ÿé‡‘è½¬ç§»åˆ°ç›®æ ‡è´¦æˆ·ã€‚ä»£å¸è´¦æˆ·å¿…é¡»ä½™é¢ä¸ºé›¶ï¼Œé™¤éå®ƒæ˜¯ä¸€ä¸ªåŸç”Ÿ SOL è´¦æˆ·ã€‚

### Mint è´¦æˆ·

åœ¨ Solana ä¸Šï¼Œä»£å¸é€šè¿‡ç”± Token Program æ‹¥æœ‰çš„ Mint è´¦æˆ·åœ°å€å”¯ä¸€æ ‡è¯†ã€‚æ­¤è´¦æˆ·å……å½“ç‰¹å®šä»£å¸çš„å…¨å±€è®¡æ•°å™¨ï¼Œå¹¶å­˜å‚¨ä»¥ä¸‹æ•°æ®ï¼š

- **ä¾›åº”é‡ï¼ˆsupplyï¼‰**ï¼šä»£å¸çš„æ€»ä¾›åº”é‡
- **å°æ•°ä½æ•°ï¼ˆdecimalsï¼‰**ï¼šä»£å¸çš„å°æ•°ç²¾åº¦
- **Mint æƒé™ï¼ˆmint_authorityï¼‰**ï¼šè¢«æˆæƒåˆ›å»ºä»£å¸æ–°å•ä½ã€å¢åŠ ä¾›åº”é‡çš„è´¦æˆ·
- **å†»ç»“æƒé™ï¼ˆfreeze_authorityï¼‰**ï¼šè¢«æˆæƒå†»ç»“ Token è´¦æˆ·ä¸­ä»£å¸çš„è´¦æˆ·ï¼Œé˜²æ­¢å…¶è¢«è½¬ç§»æˆ–é”€æ¯

#### å…ƒæ•°æ®

åœ¨åŒºå—æµè§ˆå™¨å’Œé’±åŒ…ä¸­ï¼Œä»£å¸é€šå¸¸é€šè¿‡ç‰¹å®šçš„åç§°å’Œå›¾åƒå˜å¾—å¯è¯†åˆ«ä¸”æ˜“äºé˜…è¯»ã€‚

ä»£å¸çš„åç§°ã€ç¬¦å·å’Œå›¾åƒç§°ä¸º **Metadata**ã€‚å› ä¸ºåœ¨å…¶åŸç”Ÿå½¢å¼ä¸­ï¼ŒMint è´¦æˆ·åªæ˜¯ä¸€ä¸ª 32 å­—èŠ‚é•¿çš„å…¬é’¥ï¼Œæ²¡æœ‰é™„åŠ ä»»ä½•äººç±»å¯è¯»çš„ä¿¡æ¯ã€‚

åœ¨åŸç”Ÿçš„ SPL Token ç¨‹åºä¸­ï¼Œæ— æ³•ç›´æ¥åœ¨ä»£å¸ä¸Šè®¾ç½®å…ƒæ•°æ®ã€‚å› æ­¤ï¼Œåƒ Metaplex è¿™æ ·çš„åè®®å¼€å‘äº† MPL-token-metadata ç¨‹åºï¼Œä¸ºæ¯ä¸ªä»£å¸æä¾›äº†å…³è”å…ƒæ•°æ®çš„æ–¹æ³•ã€‚

ä½¿ç”¨ Token Extensions å’Œ Token2022 ç¨‹åºï¼Œè¿™ä¸€åˆ‡å°†å®Œå…¨æ”¹å˜ã€‚Metadata æ‰©å±•å…è®¸æ‚¨å°†å…ƒæ•°æ®ç›´æ¥åµŒå…¥åˆ° mint account ä¸­ï¼Œä»è€Œæ— éœ€ä¾èµ–å¤–éƒ¨ç¨‹åºã€‚

**ç¤ºä¾‹ï¼š** [USDC Token on Solscan](https://solscan.io/token/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v)

![Mint è´¦æˆ·ç¤ºä¾‹]({{ site.baseurl }}/assets/images/sol2/img_3.png)

### Associated Token Accountï¼ˆå…³è” Token Accountï¼‰

ATA æ˜¯ä¸€ä¸ªç‰¹å®šçš„ Token Accountï¼Œç”¨äºè·Ÿè¸ªæ¯ä¸ªä»£å¸å•ä½çš„ä¸ªäººæ‰€æœ‰æƒã€‚Token Account å­˜å‚¨ä»¥ä¸‹æ•°æ®ï¼š

- **Mint**ï¼šToken Account æŒæœ‰çš„ä»£å¸
- **Owner**ï¼šè¢«æˆæƒä» Token Account è½¬ç§»ä»£å¸çš„è´¦æˆ·
- **Amount**ï¼šToken Account å½“å‰æŒæœ‰çš„ä»£å¸æ•°é‡

å…³è” Token Account çš„åœ°å€æ˜¯æ ¹æ®æ‰€æœ‰è€…åœ°å€å’Œ mint account åœ°å€æ´¾ç”Ÿå‡ºæ¥çš„ï¼ˆAssociated Token Program çš„ PDAï¼‰ã€‚

```javascript
ATA = findProgramAddress(
  [wallet, token_program_id, mint],
  associated_token_program_id
)
```

![ATA è´¦æˆ·]({{ site.baseurl }}/assets/images/sol2/img_4.png)

## Demo: SPL-Token CLI

### åˆ›å»º Token

```bash
spl-token create-token
```

è¿™ä¸ªå‘½ä»¤å®é™…ä¸Šæ˜¯åˆ›å»º mint è´¦æˆ·ï¼Œä¿å­˜ä»¥ä¸‹ä¿¡æ¯ï¼š

- **decimals**ï¼šå°æ•°ä½æ•°ï¼Œé»˜è®¤æ˜¯ 9ï¼ˆå¯ä½¿ç”¨ `--decimals 6` è®¾ç½®ï¼‰
- **supply**ï¼šå½“å‰æ€»ä¾›åº”é‡
- **mint_authority**ï¼šé“¸é€ æƒé™ï¼Œè°å¯ä»¥å‘è¡Œ token
- **freeze_authority**ï¼šå†»ç»“æƒé™ï¼Œå†»ç»“æˆ–è§£å†»æŸä¸ªè´¦æˆ·çš„ Tokenï¼Œé˜²æ­¢è¯¥è´¦æˆ·è¿›è¡Œè½¬è´¦æˆ–æ¥æ”¶ Token

**æ³¨æ„ï¼š** mint è´¦æˆ·ä¸æ˜¯ PDAï¼ŒSolana ä¸Šæœ‰å¾ˆå¤šé“å· tokenï¼Œä¾‹å¦‚ï¼šJupiter

```bash
# ç”Ÿæˆé“å·åœ°å€
solana-keygen grind --starts-with Lbc:1

# ä½¿ç”¨æŒ‡å®šå¯†é’¥å¯¹åˆ›å»º token
spl-token create-token mint_keypair.json
```

### å‘è¡Œ Token

å‘è¡Œ Token éœ€è¦å…ˆåˆ›å»ºå¥½ ATA è´¦æˆ·ï¼š

```bash
# åˆ›å»ºå…³è” Token è´¦æˆ·
spl-token create-account

# å‘è¡Œä»£å¸
spl-token mint <TOKEN_AMOUNT> []

# æŸ¥çœ‹ä½™é¢
spl-token balance

# æŸ¥çœ‹æ€»ä¾›åº”é‡
spl-token supply

# æŸ¥çœ‹ Token mint çš„è´¦æˆ·ä¿¡æ¯
spl-token account-info
# æˆ–
spl-token display
```

### è½¬è´¦ Token

```bash
spl-token transfer <TOKEN_AMOUNT> <RECIPIENT_WALLET_ADDRESS or RECIPIENT_TOKEN_ACCOUNT_ADDRESS>
```

åŒæ ·éœ€è¦åˆ›å»ºç›®æ ‡çš„ ATA è´¦æˆ·ï¼Œæˆ–è€…ä½¿ç”¨ `--fund-recipient` å‚æ•°è‡ªåŠ¨åˆ›å»ºã€‚

```bash
# æŸ¥çœ‹æˆ‘æ‰€æœ‰çš„ Token è´¦æˆ·åŠä½™é¢
spl-token accounts
```

### å…³é—­ ATA è´¦æˆ·

å…³é—­ä½™é¢ä¸º 0 çš„åœ°å€ï¼Œå¯ä»¥å›æ”¶è´¦æˆ·èµ„é‡‘ï¼š

```bash
spl-token close <mint_account>
```

å…³é—­ ATA éœ€è¦ä½™é¢ä¸º 0ã€‚å¦‚æœæœ‰ä½™é¢ï¼Œéœ€è¦å…ˆæ¸…ç©ºä½™é¢ï¼š

```bash
spl-token burn
```

### åˆ›å»º NFT

NFT æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ TOKENï¼Œå®ƒä»¬ä½¿ç”¨åŒä¸€ä¸ªç¨‹åºï¼Œä½†æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- **decimals ä¸º 0**ï¼šä¸å¯åˆ†å‰²
- **æ¯æ¬¡ mint ä¸€ä¸ª**ï¼šæ¯ä¸ª NFT éœ€è¦æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ mint è´¦æˆ·

```bash
# åˆ›å»º NFT mint è´¦æˆ·
spl-token create-token --decimals 0
```

### Token2022 Token

Token2022 åœ¨ SPL Token åŸæœ‰æŒ‡ä»¤çš„åŸºç¡€ä¸Šæ·»åŠ äº†æ‰©å±•æ¨¡å—ã€‚

![Token2022]({{ site.baseurl }}/assets/images/sol2/img_5.png)

```bash
# åˆ›å»º Token2022 tokenï¼ˆå¯ç”¨å…ƒæ•°æ®ï¼‰
spl-token create-token --enable-metadata --decimals 0 --program-2022

# åˆå§‹åŒ–å…ƒæ•°æ®
spl-token initialize-metadata 3w...m NAME Symbol https://raw.githubusercontent.com/lbc-team/hello_gill/refs/heads/main/metadata/nft-metadata.json
```

## ä½¿ç”¨ Web3.js é“¸é€  SPL ä»£å¸

> **ğŸ“Œ é‡è¦è¯´æ˜ï¼š**
>
> - **é“¾ä¸Šç¨‹åºï¼ˆæ™ºèƒ½åˆçº¦ï¼‰**ï¼šå¿…é¡»ç”¨ Rust ç¼–å†™ï¼Œéƒ¨ç½²åˆ° Solana åŒºå—é“¾ä¸Šè¿è¡Œ
> - **å®¢æˆ·ç«¯ä»£ç **ï¼šå¯ä»¥ç”¨ JavaScriptã€Pythonã€Go ç­‰å¤šç§è¯­è¨€ç¼–å†™ï¼Œç”¨äºä¸åŒºå—é“¾äº¤äº’
>
> æœ¬èŠ‚å±•ç¤ºçš„æ˜¯ **JavaScript å®¢æˆ·ç«¯ä»£ç **ï¼Œç”¨äºè°ƒç”¨é“¾ä¸Šå·²æœ‰çš„ç¨‹åºï¼ˆå¦‚ SPL Token Programï¼‰ï¼Œè€Œä¸æ˜¯ç¼–å†™æ–°çš„é“¾ä¸Šç¨‹åºã€‚

### Solana web3.js ç®€è¿°

Solana web3.js æ˜¯ä¸€ä¸ªæµè¡Œè€Œç®€æ´çš„ JavaScript **å®¢æˆ·ç«¯åº“**ï¼Œå¯ä»¥è®©å¼€å‘è€…ä¾¿æ·åœ°ä¸ Solana åŒºå—é“¾äº¤äº’ï¼Œä¸ä»¥å¤ªåŠçš„ ethers.js åº“ç±»ä¼¼ã€‚å®ƒç”¨äºç¼–å†™**å®¢æˆ·ç«¯åº”ç”¨**ï¼ˆå‰ç«¯ã€åç«¯ã€è„šæœ¬ç­‰ï¼‰ï¼Œè€Œä¸æ˜¯é“¾ä¸Šç¨‹åºã€‚

**å®‰è£…ï¼š**

```bash
npm install @solana/web3.js@1.98.0
```

ä¸‹é¢å°†å¿«é€Ÿè¦†ç›–å‡ ä¸ªå…³é”®ç¤ºä¾‹ï¼Œåˆ†åˆ«æ˜¯ï¼š

- é“¸é€  SPL ä»£å¸
- å‘é€ SOL äº¤æ˜“
- é€šè¿‡ web3.js åŸç”Ÿè´¨æŠ¼ SOLï¼ˆDelegate SOLï¼‰

### æ‰€éœ€å·¥å…·å’Œåº“

åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¼å…¥ä¸€äº›åº“ï¼š

```javascript
const solanaWeb3 = require('@solana/web3.js');
const splToken = require('@solana/spl-token');
const bs58 = require('bs58');
```

**åº“è¯´æ˜ï¼š**

- **@solana/web3.js** â€” Solana åŒºå—é“¾çš„ä¸»è¦ JS API
- **@solana/spl-token** â€” SPL Token æ“ä½œåº“ï¼ˆé“¸å¸ã€ä»£å¸è´¦æˆ·ç­‰ï¼‰
- **bs58** â€” ç”¨äº Base58 ç¼–ç ï¼è§£ç ï¼ˆå¦‚ç§é’¥ï¼‰

### è¿æ¥åˆ° Solana

è¦ä¸é“¾äº¤äº’ï¼Œé¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªè¿æ¥å¯¹è±¡ï¼š

```javascript
const connection = new solanaWeb3.Connection(
  "https://api.devnet.solana.com",
  { wsEndpoint: "wss://api.devnet.solana.com" }
);
```

è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ Solana å®˜æ–¹æä¾›çš„ Devnet RPC / WebSocket èŠ‚ç‚¹ã€‚Devnet æ˜¯ä¸€ä¸ªé¢å‘å¼€å‘è€…çš„æµ‹è¯•ç½‘ç»œï¼Œé€‚åˆç”¨äºå­¦ä¹ ã€è°ƒè¯•å’Œå¼€å‘åº”ç”¨ã€‚

### ä¸»ç¨‹åºå…¥å£ & é’±åŒ…

å®šä¹‰ä¸€ä¸ªå¼‚æ­¥ä¸»å‡½æ•°ï¼š

```javascript
async function main() {
  // ä»£ç é€»è¾‘
}
```

ç„¶ååŠ è½½é’±åŒ…ï¼š

```javascript
const walletKeyPair = solanaWeb3.Keypair.fromSecretKey(
  new Uint8Array(bs58.decode(process.env.PRIVATE_KEY))
);
```

ä½ ç°åœ¨å·²ç»æœ‰äº†ä¸€ä¸ªä¸»é’±åŒ…ï¼Œå¯ä»¥ç”¨å®ƒæ£€æŸ¥ä½™é¢ï¼š

```javascript
let balance = await connection.getBalance(walletKeyPair.publicKey);
console.log(balance / solanaWeb3.LAMPORTS_PER_SOL);
```

è¿™ä¼šæ‰“å°ç”¨æˆ·é’±åŒ…ä¸­ SOL çš„æ•°é‡ã€‚

### 1. é“¸é€  SPL Token

#### åˆ›å»º Token Mint

```javascript
const mint = await splToken.createMint(
  connection,
  walletKeyPair,
  walletKeyPair.publicKey,
  null,   // freeze authority
  9,      // decimals
  undefined,
  {},
  splToken.TOKEN_PROGRAM_ID
);
```

ç„¶åä¸ºé’±åŒ…åˆ›å»ºä¸€ä¸ªå…³è”çš„ Token è´¦æˆ·ï¼š

```javascript
const tokenAccount = await splToken.getOrCreateAssociatedTokenAccount(
  connection,
  walletKeyPair,
  mint,
  walletKeyPair.publicKey
);
```

æ¥ç€é“¸é€ ä»£å¸ï¼š

```javascript
await splToken.mintTo(
  connection,
  walletKeyPair,
  mint,
  tokenAccount.address,
  walletKeyPair.publicKey,
  1000000000000
);
```

è¿è¡Œåï¼Œä½ åº”è¯¥çœ‹åˆ°ä»£å¸æˆåŠŸè¿›å…¥ä½ çš„ Token è´¦æˆ·ã€‚

### 2. å‘é€ SOL äº¤æ˜“

ç”Ÿæˆç¬¬äºŒä¸ªé’±åŒ…ï¼š

```javascript
const secondWalletKeyPair = solanaWeb3.Keypair.generate();
```

åˆ›å»ºä¸€ç¬”è½¬è´¦äº¤æ˜“ï¼š

```javascript
const transaction = new solanaWeb3.Transaction().add(
  solanaWeb3.SystemProgram.transfer({
    fromPubkey: walletKeyPair.publicKey,
    toPubkey: secondWalletKeyPair.publicKey,
    lamports: solanaWeb3.LAMPORTS_PER_SOL * 0.001,
  })
);

const signature = await solanaWeb3.sendAndConfirmTransaction(
  connection,
  transaction,
  [walletKeyPair]
);
```

è¿è¡Œåï¼Œä½ ä¼šçœ‹åˆ° SOL ä»ä¸»é’±åŒ…è½¬åˆ°äº†ç¬¬äºŒä¸ªé’±åŒ…ã€‚

### 3. Delegate / è´¨æŠ¼ SOL

åˆ›å»ºä¸€ä¸ª stake è´¦æˆ·ï¼š

```javascript
const stakeAccount = solanaWeb3.Keypair.generate();
let createStakeAccountInstruction = solanaWeb3.StakeProgram.createAccount({
  fromPubkey: walletKeyPair.publicKey,
  stakePubkey: stakeAccount.publicKey,
  authorized: new solanaWeb3.Authorized(
    walletKeyPair.publicKey,
    walletKeyPair.publicKey
  ),
  lamports: solanaWeb3.LAMPORTS_PER_SOL * 0.02,
});
```

å‘é€åˆ›å»ºæŒ‡ä»¤ï¼š

```javascript
let createStakeAccountTransaction = new solanaWeb3.Transaction().add(createStakeAccountInstruction);
createStakeAccountTransaction.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;
createStakeAccountTransaction.feePayer = walletKeyPair.publicKey;
createStakeAccountTransaction.partialSign(stakeAccount);

createStakeAccountTransaction = await solanaWeb3.sendAndConfirmTransaction(
  connection,
  createStakeAccountTransaction,
  [walletKeyPair, stakeAccount]
);
```

æ„å»ºå§”æ‰˜æŒ‡ä»¤ï¼š

```javascript
let delegateInstruction = solanaWeb3.StakeProgram.delegate({
  stakePubkey: stakeAccount.publicKey,
  authorizedPubkey: walletKeyPair.publicKey,
  votePubkey: new solanaWeb3.PublicKey('{validator public key}'),
});

let delegateTransaction = new solanaWeb3.Transaction().add(delegateInstruction);
delegateTransaction.recentBlockhash = (await connection.getRecentBlockhash()).blockhash;
delegateTransaction.feePayer = walletKeyPair.publicKey;
delegateTransaction.sign(walletKeyPair);

delegateTransaction = await solanaWeb3.sendAndConfirmTransaction(
  connection,
  delegateTransaction,
  [walletKeyPair]
);
```

è¿™éƒ¨åˆ†æ¼”ç¤ºäº†å¦‚ä½•å°†ä½ çš„ SOL è´¨æŠ¼ç»™æŸä¸ªéªŒè¯è€…èŠ‚ç‚¹ã€‚

## æ€»ç»“

æˆ‘ä»¬ä½¿ç”¨ solana-web3.js çš„ä¸‰ä¸ªå…³é”®æ“ä½œï¼š

âœ… **é“¸é€  SPL ä»£å¸**

âœ… **å‘é€ SOL äº¤æ˜“**

âœ… **å§”æ‰˜ï¼ˆStake / Delegateï¼‰SOL**

åšå®Œè¿™äº›æ­¥éª¤åä½ å°±å…·å¤‡äº† Solana æ ¸å¿ƒå¼€å‘æµç¨‹çš„åŸºç¡€æŠ€èƒ½ã€‚

## Challenge: Mint an SPL Token ä»£ç è¡¥å…¨

### æŒ‘æˆ˜è¯´æ˜

**ç›®æ ‡ï¼š** ä½¿ç”¨ Web3.js å’Œ SPL Token åº“åœ¨å•ç¬”äº¤æ˜“ä¸­åˆ›å»ºå¹¶é“¸é€  SPL ä»£å¸ã€‚

**è¦æ±‚ï¼š**
1. åˆ›å»º SPL mint è´¦æˆ·
2. åˆå§‹åŒ– mintï¼Œè®¾ç½® 6 ä½å°æ•°ï¼Œå¹¶å°†ä½ çš„å…¬é’¥ï¼ˆfeePayerï¼‰è®¾ç½®ä¸º mint å’Œ freeze æƒé™
3. ä¸ºä½ çš„å…¬é’¥ï¼ˆfeePayerï¼‰åˆ›å»ºå…³è”ä»£å¸è´¦æˆ·ï¼ˆATAï¼‰æ¥æŒæœ‰é“¸é€ çš„ä»£å¸
4. å‘å…³è”ä»£å¸è´¦æˆ·é“¸é€  21,000,000 ä¸ªä»£å¸
5. ç­¾åå¹¶å‘é€äº¤æ˜“

### å®Œæ•´å®ç°ä»£ç 

#### ç‰ˆæœ¬ä¸€ï¼šNode.js ç¯å¢ƒï¼ˆä½¿ç”¨ process.envï¼‰

```typescript
/** Challenge: Mint an SPL Token
 *
 * In this challenge, you will create an SPL token!
 *
 * Goal:
 *   Mint an SPL token in a single transaction using Web3.js and the SPL Token library.
 *
 * Objectives:
 *   1. Create an SPL mint account.
 *   2. Initialize the mint with 6 decimals and your public key (feePayer) as the mint and freeze authorities.
 *   3. Create an associated token account for your public key (feePayer) to hold the minted tokens.
 *   4. Mint 21,000,000 tokens to your associated token account.
 *   5. Sign and send the transaction.
 */

import {
  Keypair,
  Connection,
  sendAndConfirmTransaction,
  SystemProgram,
  Transaction,
} from "@solana/web3.js";

import {
  createAssociatedTokenAccountInstruction,
  createInitializeMint2Instruction,
  createMintToCheckedInstruction,
  MINT_SIZE,
  getMinimumBalanceForRentExemptMint,
  TOKEN_PROGRAM_ID,
  getAssociatedTokenAddressSync,
  ASSOCIATED_TOKEN_PROGRAM_ID,
} from "@solana/spl-token";

import bs58 from "bs58";

// Import our keypair from the wallet file
const feePayer = Keypair.fromSecretKey(
  // âš ï¸ INSECURE KEY. DO NOT USE OUTSIDE OF THIS CHALLENGE
  bs58.decode(process.env.SECRET ?? "")
);

// Create a connection to the RPC endpoint
const connection = new Connection(
  process.env.RPC_ENDPOINT ?? "",
  "confirmed"
);

// Entry point of your TypeScript code (we will call this)
async function main() {
  try {
    // Generate a new keypair for the mint account
    const mint = Keypair.generate();

    const mintRent = await getMinimumBalanceForRentExemptMint(connection);

    // 1. Create the mint account
    const createAccountIx = SystemProgram.createAccount({
      fromPubkey: feePayer.publicKey,
      newAccountPubkey: mint.publicKey,
      space: MINT_SIZE,
      lamports: mintRent,
      programId: TOKEN_PROGRAM_ID,
    });

    // 2. Initialize the mint account
    // Set decimals to 6, and the mint and freeze authorities to the fee payer (you).
    const initializeMintIx = createInitializeMint2Instruction(
      mint.publicKey,
      6,
      feePayer.publicKey,
      feePayer.publicKey,
      TOKEN_PROGRAM_ID
    );

    // 3. Create the associated token account
    const associatedTokenAccount = getAssociatedTokenAddressSync(
      mint.publicKey,
      feePayer.publicKey,
      false,
      TOKEN_PROGRAM_ID,
      ASSOCIATED_TOKEN_PROGRAM_ID
    );
    const createAssociatedTokenAccountIx = createAssociatedTokenAccountInstruction(
      feePayer.publicKey,
      associatedTokenAccount,
      feePayer.publicKey,
      mint.publicKey,
      TOKEN_PROGRAM_ID,
      ASSOCIATED_TOKEN_PROGRAM_ID
    );

    // 4. Mint 21,000,000 tokens to the associated token account
    const mintAmount = 21_000_000n * 10n ** 6n; // 21,000,000 * 10^6 (6 decimals)
    const mintToCheckedIx = createMintToCheckedInstruction(
      mint.publicKey,
      associatedTokenAccount,
      feePayer.publicKey,
      mintAmount,
      6,
      [],
      TOKEN_PROGRAM_ID
    );

    const recentBlockhash = await connection.getLatestBlockhash();

    // 5. Build and send the transaction
    const transaction = new Transaction({
      feePayer: feePayer.publicKey,
      blockhash: recentBlockhash.blockhash,
      lastValidBlockHeight: recentBlockhash.lastValidBlockHeight,
    }).add(
      createAccountIx,
      initializeMintIx,
      createAssociatedTokenAccountIx,
      mintToCheckedIx
    );

    const transactionSignature = await sendAndConfirmTransaction(
      connection,
      transaction,
      [feePayer, mint] // ç­¾åè€…ï¼šfeePayerï¼ˆæ”¯ä»˜è´¹ç”¨ï¼‰å’Œ mintï¼ˆæ–°åˆ›å»ºçš„è´¦æˆ·ï¼‰
    );

    console.log("Mint Address:", mint.publicKey.toBase58());
    console.log("Transaction Signature:", transactionSignature);
  } catch (error) {
    console.error(`Oops, something went wrong: ${error}`);
  }
}

void main();
```

#### ç‰ˆæœ¬äºŒï¼šæ²™ç›’ç¯å¢ƒå…¼å®¹ç‰ˆæœ¬ï¼ˆæ”¯æŒæµè§ˆå™¨/Blueshiftï¼‰

```typescript
/** Challenge: Mint an SPL Token - æ²™ç›’å…¼å®¹ç‰ˆæœ¬
 *
 * æ­¤ç‰ˆæœ¬å…¼å®¹æµè§ˆå™¨æ²™ç›’ç¯å¢ƒï¼ˆå¦‚ Blueshiftï¼‰ï¼Œæ”¯æŒä» globalThis è¯»å–ç¯å¢ƒå˜é‡
 */

import {
  Keypair,
  Connection,
  sendAndConfirmTransaction,
  SystemProgram,
  Transaction,
} from "@solana/web3.js";

import {
  createAssociatedTokenAccountInstruction,
  createInitializeMint2Instruction,
  createMintToCheckedInstruction,
  MINT_SIZE,
  getMinimumBalanceForRentExemptMint,
  TOKEN_PROGRAM_ID,
  getAssociatedTokenAddressSync,
  ASSOCIATED_TOKEN_PROGRAM_ID,
} from "@solana/spl-token";

import bs58 from "bs58";

// å…¼å®¹ Node.js å’Œæµè§ˆå™¨æ²™ç›’ç¯å¢ƒçš„ç¯å¢ƒå˜é‡è¯»å–å‡½æ•°
function getEnv(name: string): string | undefined {
  const env =
    typeof process !== "undefined" ? process.env : (globalThis as any);
  return env?.[name];
}

// åœ¨ main å‡½æ•°å†…è¯»å–ç¯å¢ƒå˜é‡ï¼Œé¿å…é¡¶å±‚æ‰§è¡Œé”™è¯¯
async function main() {
  try {
    const secret = getEnv("SECRET");
    const rpcEndpoint = getEnv("RPC_ENDPOINT");

    if (!secret) {
      throw new Error("ç¼ºå°‘ç¯å¢ƒå˜é‡ SECRETï¼ˆbase58 ç§é’¥ï¼‰");
    }
    if (!rpcEndpoint) {
      throw new Error("ç¼ºå°‘ç¯å¢ƒå˜é‡ RPC_ENDPOINT");
    }

    // Import our keypair from the wallet file
    const feePayer = Keypair.fromSecretKey(
      // âš ï¸ INSECURE KEY. DO NOT USE OUTSIDE OF THIS CHALLENGE
      bs58.decode(secret)
    );

    // Create a connection to the RPC endpoint
    const connection = new Connection(rpcEndpoint, "confirmed");

    // åˆ¤æ–­ç½‘ç»œç±»å‹ï¼ˆå¯é€‰ï¼Œç”¨äºè°ƒè¯•ï¼‰
    const genesis = await connection.getGenesisHash();
    const cluster =
      genesis === "5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp" ? "mainnet-beta" :
      genesis === "EtWTRABZaYq6iMfeYKouRu166VU2xqa1" ? "devnet" :
      genesis === "4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z" ? "testnet" :
      "unknown";
    console.log("Network:", cluster);
    console.log("Genesis Hash:", genesis);

    // Generate a new keypair for the mint account
    const mint = Keypair.generate();

    const mintRent = await getMinimumBalanceForRentExemptMint(connection);

    // 1. Create the mint account
    const createAccountIx = SystemProgram.createAccount({
      fromPubkey: feePayer.publicKey,
      newAccountPubkey: mint.publicKey,
      space: MINT_SIZE,
      lamports: mintRent,
      programId: TOKEN_PROGRAM_ID,
    });

    // 2. Initialize the mint account
    // Set decimals to 6, and the mint and freeze authorities to the fee payer (you).
    const initializeMintIx = createInitializeMint2Instruction(
      mint.publicKey,
      6,
      feePayer.publicKey,
      feePayer.publicKey,
      TOKEN_PROGRAM_ID
    );

    // 3. Create the associated token account
    const associatedTokenAccount = getAssociatedTokenAddressSync(
      mint.publicKey,
      feePayer.publicKey,
      false,
      TOKEN_PROGRAM_ID,
      ASSOCIATED_TOKEN_PROGRAM_ID
    );
    const createAssociatedTokenAccountIx = createAssociatedTokenAccountInstruction(
      feePayer.publicKey,
      associatedTokenAccount,
      feePayer.publicKey,
      mint.publicKey,
      TOKEN_PROGRAM_ID,
      ASSOCIATED_TOKEN_PROGRAM_ID
    );

    // 4. Mint 21,000,000 tokens to the associated token account
    const mintAmount = 21_000_000n * 10n ** 6n; // 21,000,000 * 10^6 (6 decimals)
    const mintToCheckedIx = createMintToCheckedInstruction(
      mint.publicKey,
      associatedTokenAccount,
      feePayer.publicKey,
      mintAmount,
      6,
      [],
      TOKEN_PROGRAM_ID
    );

    const recentBlockhash = await connection.getLatestBlockhash();

    // 5. Build and send the transaction
    const transaction = new Transaction({
      feePayer: feePayer.publicKey,
      blockhash: recentBlockhash.blockhash,
      lastValidBlockHeight: recentBlockhash.lastValidBlockHeight,
    }).add(
      createAccountIx,
      initializeMintIx,
      createAssociatedTokenAccountIx,
      mintToCheckedIx
    );

    const transactionSignature = await sendAndConfirmTransaction(
      connection,
      transaction,
      [feePayer, mint] // ç­¾åè€…ï¼šfeePayerï¼ˆæ”¯ä»˜è´¹ç”¨ï¼‰å’Œ mintï¼ˆæ–°åˆ›å»ºçš„è´¦æˆ·ï¼‰
    );

    console.log("Mint Address:", mint.publicKey.toBase58());
    console.log("Transaction Signature:", transactionSignature);
  } catch (error) {
    console.error(`Oops, something went wrong: ${error}`);
  }
}

void main();
```

### å…³é”®ç‚¹è¯´æ˜

1. **ç­¾åè€…åˆ—è¡¨**ï¼š`[feePayer, mint]`
   - `feePayer`ï¼šæ”¯ä»˜äº¤æ˜“è´¹ç”¨å¹¶ä½œä¸º mint/freeze æƒé™
   - `mint`ï¼šæ–°åˆ›å»ºçš„ mint è´¦æˆ·ï¼Œéœ€è¦ç­¾åä»¥å®Œæˆè´¦æˆ·åˆ›å»º

2. **é“¸å¸æ•°é‡è®¡ç®—**ï¼š`21_000_000n * 10n ** 6n`
   - ç”±äºè®¾ç½®äº† 6 ä½å°æ•°ï¼Œå®é™…é“¸å¸æ•°é‡ = 21,000,000 Ã— 10^6 = 21,000,000,000,000ï¼ˆæœ€å°å•ä½ï¼‰

3. **å•ç¬”äº¤æ˜“**ï¼šæ‰€æœ‰æ“ä½œï¼ˆåˆ›å»ºè´¦æˆ·ã€åˆå§‹åŒ–ã€åˆ›å»º ATAã€é“¸å¸ï¼‰éƒ½åœ¨åŒä¸€ç¬”äº¤æ˜“ä¸­å®Œæˆï¼Œç¡®ä¿åŸå­æ€§

4. **ç¯å¢ƒå˜é‡**ï¼š
   - `SECRET`ï¼šBase58 ç¼–ç çš„ç§é’¥
   - `RPC_ENDPOINT`ï¼šSolana RPC èŠ‚ç‚¹åœ°å€ï¼ˆå¦‚ `https://api.devnet.solana.com`ï¼‰
